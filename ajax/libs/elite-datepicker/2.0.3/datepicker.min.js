/*!
 *  Elite Date Picker v2.0.3
 *
 *  Author: Mridul Ahuja
 *
 *  Github: https://github.com/mridah/datepicker
 *
 *  License: MIT
 */

!function(a){a.fn.extend({datepicker:function(d){var e=a(this),f=a(this).selector;if("destroy"!==d){var g={format:"Y-m-d",time:!1,disableTyping:!1};d=a.extend(g,d),e.each(function(){b(a(this),f,d)})}else c(e)}});var b=(b,c,d)=>{var e=["January","February","March","April","May","June","July","August","September","October","November","December"];var f=["S","M","T","W","Th","F","Sa"];var g={Sun:1,Mon:2,Tue:3,Wed:4,Thu:5,Fri:6,Sat:7};var h=a(`<div class="mr-elite-d-p date-picker" tabindex="-1" style="display: none;">
\t\t\t<span class="up-tip"></span></div>`);var i=a(`<div class="header"></div>`);var j=a(`<div class="main-content"><div class="m-c-items date-selector"><div class="days"></div>
\t\t\t<div class="dates"></div><div class="footer-buttons"><span class="set-time-button">Set Time</span>
\t\t\t<span class="ok-button">OK</span></div></div><div class="m-c-items month-selector"></div>
\t\t\t<div class="m-c-items year-selector"></div><div class="m-c-items time-selector"></div></div>`);var k;var l;var m;var n;var o;var p;var r;var s;var t=new Date;var u=b.val()?b.val():(new Date).toJSON().slice(0,10);var v;var x;var y;var z;var A;var B;var C;var D;var E;var F;var G=(a,b,c)=>Array(b-String(a).length+1).join(c||"0")+a;var H=(a,b)=>{b=b.substr(0,5);var c;a[0]=parseInt(a[0]);a[1]=parseInt(a[1]);a[2]=parseInt(a[2]);switch(b){case"d-m-Y":case"d/m/Y":c=a[2]+"-"+a[1]+"-"+a[0],B=a[0],A=a[1],z=a[2];break;case"m-d-Y":case"m/d/Y":c=a[2]+"-"+a[0]+"-"+a[1],B=a[1],A=a[0],z=a[2];break;case"Y-m-d":case"Y/m/d":c=a[0]+"-"+a[1]+"-"+a[2],B=a[2],A=a[1],z=a[0];break;case"Y-d-m":case"Y/d/m":c=a[0]+"-"+a[2]+"-"+a[1],B=a[1],A=a[2],z=a[0]}return c};var I=(a,b)=>new Date(b,a,0).getDate();var J=a=>{var b=new Date(a);b.setMinutes(a.getMinutes()-a.getTimezoneOffset());return b.toJSON().slice(0,10)};var K=()=>{var a=d.format.substr(0,5);a=a.replace("d",G(B,2));a=a.replace("m",G(A,2));a=a.replace("Y",z);d.time&&(a+=" "+E);return a};var L=(a,b)=>{t=new Date(A+"-01-"+z);var c=j.find(`.date-selector .dates`);var d;var e=t.toString().substr(0,3);var f;e=g[e];c.html("");for(d=1;d<e;d++)c.append(`<div class="date" style="padding: 0;"></div>`);if(a&&b){var h=I(a,b);for(d=1;d<=h;d++)f=J(new Date(b+"-"+a+"-"+d)),c.append(`<div class="date" dpd="`+f+`">`+d+`</div>`)}};var M=()=>{var b=j.find(`.dates .date`);b=b.filter(function(){return a(this).text()==i.find(`.date`).text()});if(b.length)b.addClass("selected"),B=b.text(),i.find(`.day`).text(new Date(z+"-"+A+"-"+B).toString().substr(0,3));else{var c=j.find(`.dates .date:last-child`);i.find(`.date`).text(c.text()),B=c.text(),c.addClass("selected"),i.find(`.day`).text(new Date(z+"-"+A+"-"+B).toString().substr(0,3))}};var N=a=>{inputboxDateSplit=u.split(a);if(!inputboxDateSplit>2)return void console.error("Invalid date encountered on `"+c+"`");v=H(inputboxDateSplit,d.format);v=new Date(v);if("Invalid Date"==v)return void console.error("Invalid date encountered on `"+c+"`");i.find(`.date`).text(B);k.text(e[parseInt(A)-1].substr(0,3));k.attr("dm",parseInt(A));n.text(z);n.attr("dy",parseInt(z));l.find(`.month`).removeClass(`selected`);o.find(`.year`).removeClass(`selected`);l.find('[dm="'+parseInt(A)+'"]').addClass(`selected`);o.find('[dy="'+parseInt(z)+'"]').addClass(`selected`);C=o.find('.year[dy="2018"]').get(0).offsetTop;o.get(0).scrollTop=C-10;L(parseInt(A),z);j.find(`[dpd="`+J(v)+`"]`).addClass(`selected`)};var O=()=>{j.find(`.time-selector .select-hours .hour`).removeClass("selected");j.find(`.time-selector .select-minutes .minute`).removeClass("selected");E=b.val().substr(11,19);var c=b.val().split(" ");var e=c[1].split(":");var f=parseInt(e[0]);var g=parseInt(e[1]);var h;var i;if("h:i:a"==d.format.substr(6,11)){var k=c[2];h=j.find(`.time-selector .select-hours .hour`).filter(function(){return a(this).text()==f}),i=j.find(`.time-selector .select-minutes .minute`).filter(function(){return a(this).text()==g}),h.parent().get(0).scrollTop=0,i.parent().get(0).scrollTop=0,h.addClass("selected"),i.addClass("selected"),h.parent().animate({scrollTop:h.position().top-100},"fast"),i.parent().animate({scrollTop:i.position().top-100},"fast"),j.find(`.time-selector .am-pm`).removeClass("selected"),"AM"==k&&j.find(`.time-selector .am-mode-select`).addClass("selected"),"PM"==k&&j.find(`.time-selector .pm-mode-select`).addClass("selected")}else"h:i:s"==d.format.substr(6,11)&&(j.find(`.time-selector .am-pm`).removeClass("selected"),parseInt(f)?parseInt(f)>12?(j.find(`.time-selector .pm-mode-select`).addClass("selected"),f=parseInt(f)-12):parseInt(f)<12?j.find(`.time-selector .am-mode-select`).addClass("selected"):j.find(`.time-selector .pm-mode-select`).addClass("selected"):(j.find(`.time-selector .am-mode-select`).addClass("selected"),f=12),h=j.find(`.time-selector .select-hours .hour`).filter(function(){return a(this).text()==f}),i=j.find(`.time-selector .select-minutes .minute`).filter(function(){return a(this).text()==g}),h.parent().get(0).scrollTop=0,i.parent().get(0).scrollTop=0,h.addClass("selected"),i.addClass("selected"),h.parent().animate({scrollTop:h.position().top-100},"fast"),i.parent().animate({scrollTop:i.position().top-100},"fast"))};i.append(`<div class="prev"><</div><div class="selected-date"></div><div class="next">></div>`);h.append(i);h.append(j);i.find(".selected-date").append(`<span class="day">Mon</span><span class="comma">,</span>
\t\t\t<span class="date">8</span> <span class="month">Sep</span> <span class="year">2017</span>`);h.insertAfter(b);a.each(e,(a,b)=>{j.find(`.month-selector`).append(`<div class="month" dm="`+(a+1)+`">`+b+`</div>`)});for(var P=2050;P>1950;P--)j.find(`.year-selector`).append(`<div class="year" dy="`+P+`">`+P+`</div>`);a.each(f,(a,b)=>{j.find(`.date-selector .days`).append(`<div class="day" dd="`+(a+1)+`">`+b+`</div>`)});if(d.time){j.find(`.time-selector`).append(`<div class="select-hours-container">
\t\t\t\t<span class="up-arrow-small-hours"></span><div class="select-hours"></div>
\t\t\t\t<span class="down-arrow-small-hours"></span><div class="hour-footer">HOURS</div></div>
\t\t\t\t<div class="select-minutes-container"><span class="up-arrow-small-minutes">
\t\t\t\t</span><div class="select-minutes"></div><span class="down-arrow-small-minutes"></span>
\t\t\t\t<div class="minutes-footer">MIN</div></div><div class="am-pm-container">
\t\t\t\t<div class="am-pm am-mode-select">AM</div><div class="am-pm pm-mode-select">PM</div>
\t\t\t\t</div><span class="back-to-calendar">BACK</span>`);for(var P=1;P<13;P++)j.find(`.time-selector .select-hours`).append(`<div class="hour" hour="`+P+`"> `+P+`</div>`);for(var P=1;P<60;P++)j.find(`.time-selector .select-minutes`).append(`<div class="minute" minute="`+P+`"> `+P+`</div>`)}else j.find(`.footer-buttons .set-time-button`).css("visibility","hidden");x=i.find(`.prev`);y=i.find(`.next`);k=i.find(".month");m=j.find(`.month`);l=m.parent();n=i.find(".year");p=j.find(`.year`);o=p.parent();D=j.find(`.footer-buttons .set-time-button`);j.find(`.time-selector`);r=j.find(`.time-selector .select-hours-container .hour`);s=j.find(`.time-selector .select-minutes-container .minute`);F=j.find(`.footer-buttons .ok-button`);u.includes("-")?N("-"):u.includes("/")&&N("/");k.click(()=>{j.find(`.m-c-items`).hide();j.find(`.month-selector`).css("left","200px").show();j.find(`.month-selector`).animate({left:0},200)});m.click(b=>{var c=a(b.currentTarget);var d=c.text();var e=i.find(`.month`);var f=j.find(`.month-selector`);A=c.attr("dm");e.text(d.substr(0,3));e.attr("dm",c.attr("dm"));f.find(`.month`).removeClass(`selected`);c.addClass("selected");j.find(`.month-selector`).hide();j.find(`.date-selector`).css("left","200px").show();j.find(`.date-selector`).animate({left:0},200);t=new Date(c.attr("dm")+"-01-"+z);L(A,z);M()});l.on("mousewheel DOMMouseScroll",function(a){var b=a.originalEvent,c=b.wheelDelta||-b.detail;this.scrollTop+=8*(c<0?1:-1),a.preventDefault()});n.click(()=>{j.find(`.m-c-items`).hide();j.find(`.year-selector`).css("left","200px").show();j.find(`.year-selector`).animate({left:0},200)});p.click(b=>{var c=a(b.currentTarget);var d=c.text();var e=i.find(`.year`);var f=j.find(`.year-selector`);z=c.attr("dy");e.text(d);e.attr("dy",c.attr("dy"));f.find(`.year`).removeClass(`selected`);c.addClass("selected");j.find(`.year-selector`).hide();j.find(`.date-selector`).css("left","200px").show();j.find(`.date-selector`).animate({left:0},200);t=new Date(A+"-01-"+c.attr("dy"));L(A,z);M()});o.on("mousewheel DOMMouseScroll",function(a){var b=a.originalEvent,c=b.wheelDelta||-b.detail;this.scrollTop+=8*(c<0?1:-1),a.preventDefault()});b.focus(c=>{var e=a(c.currentTarget).next();e.css("left",b.get(0).offsetLeft);u=b.val()?b.val():(new Date).toJSON().slice(0,10);d.time||(u.includes("-")?N("-"):u.includes("/")&&N("/"));M();j.find(".m-c-items").hide();j.find(".date-selector").show();d.time&&O();e.fadeIn()});b.keydown(function(b){return 9===(b.keyCode||b.which)?(a(".mr-elite-d-p").fadeOut(),!0):!d.disableTyping&&void 0});d.disableTyping&&b.bind("paste",function(a){a.preventDefault()});h.bind("keydown",function(b){9===(b.keyCode||b.which)&&a(".mr-elite-d-p").fadeOut()});x.click(()=>{1!=A?A--:(A=12,z--);t=new Date(A+"-01-"+z);k.text(e[A-1].substr(0,3));k.attr("dm",A);n.text(z);n.attr("dy",z);j.find(`.date-selector`).css("left","-200px").show();j.find(`.date-selector`).animate({left:0},200);L(A,z);M()});y.click(()=>{12!=A?A++:(A=1,z++);t=new Date(A+"-01-"+z);k.text(e[A-1].substr(0,3));k.attr("dm",A);n.text(z);n.attr("dy",z);j.find(`.date-selector`).css("left","200px").show();j.find(`.date-selector`).animate({left:0},200);L(A,z);M()});h.on("click",".main-content .date-selector .date",b=>{b=a(b.currentTarget);a(".main-content .date-selector .date").removeClass("selected");b.addClass("selected");B=b.text();i.find(`.day`).text(new Date(z+"-"+A+"-"+B).toString().substr(0,3));i.find(`.date`).text(B)});D.click(()=>{a(".main-content .m-c-items").hide();j.find(`.time-selector`).css("left","200px").show();j.find(`.time-selector`).animate({left:0},200);O()});F.click(()=>{b.val(K());a(".mr-elite-d-p").fadeOut()});a(document).click(function(a){h.is(a.target)||0!==h.has(a.target).length||b.is(a.target)||h.fadeOut()});j.find(".time-selector .up-arrow-small-hours").click(()=>{var a=r.parent().scrollTop();r.parent().animate({scrollTop:a-80})});j.find(".time-selector .down-arrow-small-hours").click(()=>{var a=r.parent().scrollTop();r.parent().animate({scrollTop:a+80})});j.find(".time-selector .up-arrow-small-minutes").click(()=>{var a=s.parent().scrollTop();s.parent().animate({scrollTop:a-80})});j.find(".time-selector .down-arrow-small-minutes").click(()=>{var a=s.parent().scrollTop();s.parent().animate({scrollTop:a+80})});j.find(".time-selector .hour").click(b=>{b=a(b.currentTarget);j.find(".time-selector .hour").removeClass("selected");b.addClass("selected")});j.find(".time-selector .minute").click(b=>{b=a(b.currentTarget);j.find(".time-selector .minute").removeClass("selected");b.addClass("selected")});j.find(".time-selector .am-pm").click(b=>{b=a(b.currentTarget);j.find(".time-selector .am-pm").removeClass("selected");b.addClass("selected")});j.find(".time-selector .back-to-calendar").click(()=>{var a;var b;a=j.find(".time-selector .select-hours .selected").attr("hour");b=j.find(".time-selector .select-minutes .selected").attr("minute");j.find(".time-selector .am-pm.selected").hasClass("am-mode-select")?"h:i:s"===d.format.substr(6,11)?E="12"==a?"00:"+G(b,2)+":00":G(a,2)+":"+G(b,2)+":00":"h:i:a"===d.format.substr(6,11)&&(E=G(a,2)+":"+G(b,2)+" AM"):j.find(".time-selector .am-pm.selected").hasClass("pm-mode-select")&&("h:i:s"===d.format.substr(6,11)?(a="12"==a?"12":parseInt(a)+12,E=G(a,2)+":"+G(b,2)+":00"):"h:i:a"===d.format.substr(6,11)&&(E=G(a,2)+":"+G(b,2)+" PM"));j.find(".m-c-items").hide();j.find(`.date-selector`).css("left","-200px").show();j.find(`.date-selector`).animate({left:0},200)});window.onblur=function(){a(".mr-elite-d-p").fadeOut()}},c=a=>{a.off();a.next().hasClass("mr-elite-d-p")&&a.next().remove()}}(jQuery);